{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["//Підключила бібліотеку\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n//Отримала посилання на інпут, кнопку, кожен спан\nconst dataPicker = document.querySelector('#datetime-picker');\nconst startButton = document.querySelector('[data-start]');\nconst dayOutput = document.querySelector('[data-days]');\nconst hoursOutput = document.querySelector('[data-hours]');\nconst minutesOutput = document.querySelector('[data-minutes]');\nconst secondOutput = document.querySelector('[data-seconds]');\n\n//Додала слухача на кнопку\nstartButton.addEventListener('click', startTimer);\n\n//Створила дві змінні, щоб потім могла почистити \nlet intervalId = null;\nlet curentSelectedDate = null; \n\n//Долала умову, перевіряю якщо вибрана дата менша \n//поточної - нічого не робимо, викидую повідомлення.\n//Якщо нормальна дата,вона записалась в curentSelectedDate і кнопка роздісейбилась\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0] <= new Date) {\n            return iziToast.error({\n                    position:\"topRight\",\n                    message: 'Please choose a date in the future',\n                 });\n        }\n        curentSelectedDate = selectedDates[0];\n        startButton.disabled = false;\n    },\n};\n\n// Ініціюю метод бібліотеки\n//Передала посилання до якого звертатись на інпут, і обєкт налаштування\nflatpickr(dataPicker,options);\n\n\n//Відповіда щоб при натискані на кнопку запускався таймер, щоб дисейблився інпут та кнопка\n//Коли таймер setInterval запускається він викликає функцію updateTimer\n//Вона кожного разу вираховує різницю в часі,від вибраної дати віднімає поточну\n//як розрахунок прийшов до 0 або менше вмикаємо інпут і чистить інтервал щоб не викликалась знов\n\nfunction startTimer () {\n    dataPicker.disabled = true;\n    startButton.disabled = true;\n    intervalId = setInterval (updateTimer, 1000);\n}\n\nfunction updateTimer () {\n    const curentTime = curentSelectedDate - new Date();\n    if (curentTime <= 0) {\n        dataPicker.disabled = false;\n        clearInterval(intervalId);\n        return;\n    }\n    const { days, hours, minutes, seconds } = convertMs(curentTime);\n    \n    dayOutput.textContent = String(days).padStart(2, 0);\n    hoursOutput.textContent = String(hours).padStart(2, 0);\n    minutesOutput.textContent = String(minutes).padStart(2, 0);\n    secondOutput.textContent = String(seconds).padStart(2, 0);\n}\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days = \n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n}\n  \n  "],"names":["dataPicker","startButton","dayOutput","hoursOutput","minutesOutput","secondOutput","startTimer","intervalId","curentSelectedDate","options","selectedDates","iziToast","flatpickr","updateTimer","curentTime","days","hours","minutes","seconds","convertMs","ms"],"mappings":"0FAOA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAgB,SAAS,cAAc,gBAAgB,EACvDC,EAAe,SAAS,cAAc,gBAAgB,EAG5DJ,EAAY,iBAAiB,QAASK,CAAU,EAGhD,IAAIC,EAAa,KACbC,EAAqB,KAMzB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,GAAIA,EAAc,CAAC,GAAK,IAAI,KACxB,OAAOC,EAAS,MAAM,CACd,SAAS,WACT,QAAS,oCAC7B,CAAkB,EAEVH,EAAqBE,EAAc,CAAC,EACpCT,EAAY,SAAW,EAC1B,CACL,EAIAW,EAAUZ,EAAWS,CAAO,EAQ5B,SAASH,GAAc,CACnBN,EAAW,SAAW,GACtBC,EAAY,SAAW,GACvBM,EAAa,YAAaM,EAAa,GAAI,CAC/C,CAEA,SAASA,GAAe,CACpB,MAAMC,EAAaN,EAAqB,IAAI,KAC5C,GAAIM,GAAc,EAAG,CACjBd,EAAW,SAAW,GACtB,cAAcO,CAAU,EACxB,MACH,CACD,KAAM,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAU,EAE9DZ,EAAU,YAAc,OAAOa,CAAI,EAAE,SAAS,EAAG,CAAC,EAClDZ,EAAY,YAAc,OAAOa,CAAK,EAAE,SAAS,EAAG,CAAC,EACrDZ,EAAc,YAAc,OAAOa,CAAO,EAAE,SAAS,EAAG,CAAC,EACzDZ,EAAa,YAAc,OAAOa,CAAO,EAAE,SAAS,EAAG,CAAC,CAC5D,CAEA,SAASC,EAAUC,EAAI,CAQnB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAE1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EAEpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EAEjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}